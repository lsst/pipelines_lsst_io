.. _release-v23-0-0-tickets:

###################################
Tickets Addressed in Release 23.0.4
###################################

- :jira:`DM-32517`: Remove debug print from astshim [astshim]

###################################
Tickets Addressed in Release 23.0.3
###################################

- :jira:`DM-31950`: Add descriptions for DP0.2 and HSC Object/Source schema columns [sdm\_schemas]
- :jira:`DM-32324`: Add forced source table to sdm\_schemas and ci\_imsim [sdm\_schemas]
- :jira:`DM-32605`: Add healpix support to sphgeom with healpy [sphgeom]
- :jira:`DM-32749`: Multiple sdm\_schema yamls use incorrect fits.tunit key [sdm\_schemas]
- :jira:`DM-32843`: Create middleware release notes for v23.0 [utils]
- :jira:`DM-34919`: Remove gen2 support from obs\_lsst [daf\_butler]
- :jira:`DM-35169`: Add ccdVisitId to CcdVisit schema [sdm\_schemas]
- :jira:`DM-35173`: Add descriptions to CcdVisit and Visit Tables in sdm\_schemas [sdm\_schemas]
- :jira:`DM-35322`: ForcedPhotCcdFromDataFrameTask needs local calib plugins [meas\_base, sdm\_schemas]
- :jira:`DM-35338`: Afterburner for DP0.2 to populate ForcedSourceOnDiaObject fluxes in [obs\_lsst, pipe\_tasks]
- :jira:`DM-35600`: afw binary executable tests fail in nightly clean builds [afw]
- :jira:`DM-37232`: Backport DP0.2 schema changes to v23 imsim.yaml [sdm\_schemas]

###################################
Tickets Addressed in Release 23.0.2
###################################

- :jira:`DM-32579`: Fix Memory monitoring for Rubin PanDA jobs [ctrl\_bps]
- :jira:`DM-33769`: Improve timeout, retry and connexion persistence of webDAV client [daf\_butler]
- :jira:`DM-33854`: Need periodic log messages for forcedPhotCoadd during aperture corrections [meas\_base]
- :jira:`DM-34290`: Add MJD times to CcdVisit/Visit tables [pipe\_tasks]
- :jira:`DM-34466`: Write afterburner to re-calibrate src tables [obs\_lsst, pipe\_tasks]
- :jira:`DM-34476`: Remove wPerp from step5 of DP0.2 pipeline [obs\_lsst]
- :jira:`DM-34478`: Remove consolidateForcedSourceTable from step5 of DP0.2 pipeline [obs\_lsst]

###################################
Tickets Addressed in Release 23.0.1
###################################

- :jira:`DM-31611`: Improve reproducibility in faro ellipKPM test\_te1 [faro]
- :jira:`DM-31990`: Add configuration option to set coverage nside for survey-wide HealSparsePropertyMaps [pipe\_tasks]
- :jira:`DM-32034`: Create MatchProbabilistic (Pipeline)Task [meas\_astrom, pipe\_tasks]
- :jira:`DM-32199`: If submit or prepare, have bps check early that WMS is in environment. [ctrl\_bps]
- :jira:`DM-32624`: Override source selection criteria in SFM calibration stages for LSSTCam-imSim [obs\_lsst]
- :jira:`DM-32625`: Activate guards on SFM PSF quality for inclusion in coaddition for LSSTCam-imSim [obs\_lsst, obs\_subaru, pipe\_tasks]
- :jira:`DM-32675`: Improvement PanDA plugin on using iDDS [ctrl\_bps]
- :jira:`DM-32827`: skyCorr backgrounds are not get applied during gen3 makeWarp [pipe\_tasks]
- :jira:`DM-32830`: panda\_auth\_reset [ctrl\_bps]
- :jira:`DM-32843`: Create middleware release notes for v23.0 [ctrl\_bps, ctrl\_mpexec, daf\_butler, obs\_base, pipe\_base]
- :jira:`DM-32895`: Add matchObjectToTruth to obs\_lsst's imsim DRP.yaml [obs\_lsst]
- :jira:`DM-33195`: Update forcedPhotCoadd to use the correct input image in Gen3 [meas\_base]
- :jira:`DM-33200`: Fix lsst.afw.geom usage in two afw rst documents [afw]
- :jira:`DM-33339`: pipetask is always doing fail-fast in single-process mode [ctrl\_mpexec]
- :jira:`DM-33345`: Investigate extremely slow execution butler creation [pipe\_base]
- :jira:`DM-33417`: Backport DM-33360 to v23.0.x [daf\_butler]
- :jira:`DM-33525`: Write middleware release notes for v23.0.1 [ctrl\_bps, ctrl\_mpexec, pipe\_base]
- :jira:`DM-33596`: "NoneType object is not subscriptable" in PsfWcsSelectImagesTask [pipe\_tasks]
- :jira:`DM-33786`: assembleCoadd reports success even when some stripes are unsuccessful. [pipe\_tasks]

###################################
Tickets Addressed in Release 23.0.0
###################################

Tickets merged after w_2021_40 and backported
---------------------------------------------

- :jira:`DM-31777`: Determine and use correct position for PSF shape determination in ImageDifferenceTask [ip\_diffim, pipe\_tasks]
- :jira:`DM-31956`: mergeExecutionButler task hits database deadlock intermittently [daf\_butler]
- :jira:`DM-31976`: Change handling of collections and dataset types in dataset transfer [ctrl\_bps, ctrl\_mpexec, daf\_butler]
- :jira:`DM-32027`: Rename outCollection to outputRun [ctrl\_bps]
- :jira:`DM-32030`: Fixup Jointcal after DM-31825 [jointcal]
- :jira:`DM-32066`: BPS jobs with memory autoscaling enabled remain idle after the first run attempt [ctrl\_bps]
- :jira:`DM-32074`: Modify how HTCondor plugin handles transfer of execution butler [ctrl\_bps]
- :jira:`DM-32124`: ValueError: Only one node is allowed to produce forcedSource [pipe\_tasks]
- :jira:`DM-32129`: Add a maximum mean offset threshold for SFM astrometry fit success [meas\_astrom, obs\_lsst]
- :jira:`DM-32198`: Set sentinel values for flag/integer columns for missing bands in Object tables [pipe\_tasks]
- :jira:`DM-32201`: HTCondor plugin bug if output collection contains period [ctrl\_bps]
- :jira:`DM-32217`: BPS displays cumulative timings instead of time intervals during a submission [ctrl\_bps]
- :jira:`DM-32220`: HTCondor plugin copying execution butler back from job [ctrl\_bps]
- :jira:`DM-32238`: Fix unexpected floating point values in drpAssociation task [pipe\_tasks]
- :jira:`DM-32241`: bps submit can take multiple hours [ctrl\_bps]
- :jira:`DM-32290`: A create-table failure led to registry corruption [daf\_butler]
- :jira:`DM-32305`: lsst.daf.butler.Config slowness with large numbers of lookups [daf\_butler]
- :jira:`DM-32306`: refBand functor doesn't know that u-band exists [pipe\_tasks]
- :jira:`DM-32333`: SourceTable should use LocalNanojansky functor on apFluxes [obs\_lsst, obs\_subaru]
- :jira:`DM-32435`: Silent failure in executing memory-hungry job? [ctrl\_bps]
- :jira:`DM-32448`: Backport incorrect GAaP field name [obs\_lsst]
- :jira:`DM-32504`: SingleQuantumExecutor should log exception messages [ctrl\_mpexec]
- :jira:`DM-32594`: Remove dependency on inflection in bps\_config [ctrl\_bps]
- :jira:`DM-32624`: Override source selection criteria in SFM calibration stages for LSSTCam-imSim [meas\_algorithms]
- :jira:`DM-32649`: Move psf quality statistics calculation from selectImages to computeExposureSummaryStats [afw, pipe\_tasks]
- :jira:`DM-32714`: Fix backwards compatibility broken by DM-32649 [pipe\_tasks]

Tickets merged before w_2021_40
-------------------------------

- :jira:`DM-6056`: Remove PTR and CONST\_PTR macros [afw, base, ip\_diffim, daf\_persistence, meas\_algorithms, meas\_astrom, meas\_base, meas\_deblender, meas\_extensions\_photometryKron, meas\_extensions\_psfex, meas\_modelfit, obs\_subaru, shapelet]
- :jira:`DM-11419`: afwTable rows define offsets as int32, causing problems with very large (>2Gb) rows [afw]
- :jira:`DM-13089`: Use new visitInfo parallactic angle calculations in jointcal [jointcal]
- :jira:`DM-13365`: Minimal on-disk caching Datastore [daf\_butler]
- :jira:`DM-13944`: add id to VisitInfo [afw, obs\_base]
- :jira:`DM-15361`: Make lsst.log outputs appear in Jupyter notebook cells [log]
- :jira:`DM-15552`: Convert meas\_deblender to numpydoc status [meas\_deblender]
- :jira:`DM-16556`: calcRmsDistances is comparing objects in correct distances due to indexing error [faro]
- :jira:`DM-17471`: Save intermediate data product with pre-interpolation pixel values [ip\_isr]
- :jira:`DM-19392`: Interval class and geom Python enhancements: Stage 1 [afw, geom, sphgeom]
- :jira:`DM-19634`: Longlog cmdline option suppresses DEBUG and TRACE messages issued by lsst.log [pipe\_base]
- :jira:`DM-22136`: inspect\_job.py crashes on empty Job [verify]
- :jira:`DM-22486`: afwTable will seg-fault if you add a new record to a table with schema=None [afw]
- :jira:`DM-22534`: Implement cpSkyTask [cp\_pipe, daf\_butler]
- :jira:`DM-23330`: Doxygen warnings in pipe\_base [cp\_pipe, ctrl\_pool, meas\_algorithms, pipe\_base, pipe\_tasks]
- :jira:`DM-23694`: Create script for producing distortion model from Jointcal output [afw, geom, jointcal]
- :jira:`DM-24278`: Apply proper motion to matched sources in Jointcal [jointcal]
- :jira:`DM-24389`: Implement amp-to-amp offset correction task [ip\_isr, obs\_subaru]
- :jira:`DM-24704`: Make brighter-fatter correction a subclass of lsst.ip.isr.IsrCalib [cp\_pipe, daf\_butler, ip\_isr, obs\_base, obs\_lsst]
- :jira:`DM-24737`: Implement GAaP: Gaussian Aperture and PSF photometry [meas\_extensions\_gaap]
- :jira:`DM-24762`: Add option to PTC task to correct for sigma clipping bias [cp\_pipe]
- :jira:`DM-24806`: Lift key ap\_verify classes into lsst.ap.verify namespace [ap\_verify]
- :jira:`DM-24913`: obs\_decam README is confusing [obs\_decam]
- :jira:`DM-25013`: Unclear error messages in pipetask run [ctrl\_mpexec, daf\_butler, pipe\_base]
- :jira:`DM-25305`: Add stacking of saved bright star stamps to build extended PSF model [pipe\_tasks]
- :jira:`DM-25789`: Update PA1 metric implementation [faro]
- :jira:`DM-26031`: Fix broken measureCrosstalk test [cp\_pipe]
- :jira:`DM-26037`: Add option to ignore nPixels from edge in PTC task [cp\_pipe]
- :jira:`DM-26214`: Switch to using sourceTable and objectTable parquet files instead of the src FITS files [faro]
- :jira:`DM-26397`: Add explicit DAG export from ctrl\_bps [ctrl\_bps]
- :jira:`DM-26651`: Persist individual bright stars' warping Transforms, origin and number of rotations [meas\_algorithms, pipe\_tasks]
- :jira:`DM-26719`: Resync with Spectractor upstream [obs\_test, obs\_base, obs\_lsst]
- :jira:`DM-26988`: Update TE1 and TE2 metric implementations [faro]
- :jira:`DM-27010`: Allow IsrTask to use PTC dataset as gain source [ip\_isr]
- :jira:`DM-27031`: Use primary flag in source count metrics [ip\_diffim]
- :jira:`DM-27032`: Create deblended source metric [ap\_verify, ip\_diffim, pipe\_tasks, verify\_metrics]
- :jira:`DM-27083`: Improve jointcal outlier rejection [jointcal]
- :jira:`DM-27088`: Calculate GAaP flux uncertainties [meas\_extensions\_gaap]
- :jira:`DM-27103`: Not all IsrCalib tests round trip calibrations [ip\_isr]
- :jira:`DM-27241`: Add butler API for downloading file artifacts from datastore [daf\_butler]
- :jira:`DM-27260`: Change panDA code distribution to use preexisting mechanisms [ctrl\_bps]
- :jira:`DM-27387`: Implement scattering magnitudes for ApFakes [ap\_pipe, ap\_verify, pipe\_tasks]
- :jira:`DM-27412`: Rework daf.butler.tests.makeTestCollection [daf\_butler]
- :jira:`DM-27416`: Add doumentation on creating Pipelines [pipe\_base]
- :jira:`DM-27485`: Design cp\_verify [cp\_verify]
- :jira:`DM-27492`: Improvements to pipetask execution options [ctrl\_mpexec, pipe\_base]
- :jira:`DM-27612`: Applying fringe correction adds numerous mask features [ip\_isr]
- :jira:`DM-27650`: Allow irlsFit function in cp\_pipe/utils.py to use a general iterative weight function. [cp\_pipe]
- :jira:`DM-27675`: Add ability to pass single large QuantumGraph to jobs. [ctrl\_bps]
- :jira:`DM-27676`: Add ability to remove submitted runs [ctrl\_bps]
- :jira:`DM-27800`: (Optionally) Match catalogs on (parentID, peakID) in pipe\_analysis [afw, pipe\_tasks]
- :jira:`DM-28111`: Include RUN name in QG dot diagrams for resolved DatasetRefs [ctrl\_mpexec]
- :jira:`DM-28148`: Make a gen 3 version of the colour colour plots in color\_analysis [obs\_subaru, sdm\_schemas]
- :jira:`DM-28149`: Make gen 3 scatter plots for the gen 3 version of color analysis [pipe\_tasks]
- :jira:`DM-28245`: Update ConsolidateVisitSummaryTask to use exposure summary component [pipe\_tasks]
- :jira:`DM-28315`: Design simplified Registry ABC for butler [daf\_butler]
- :jira:`DM-28394`: write write|transform|consolidateForcedSourceTable Tasks [ap\_association, obs\_lsst, obs\_subaru, pipe\_tasks]
- :jira:`DM-28636`: Set up initial "main" shared data repository at NCSA [daf\_butler, obs\_base, obs\_lsst]
- :jira:`DM-28646`: Add ability to create trimmed registry during quantum graph build [pipe\_base]
- :jira:`DM-28649`: Modify pipetask to use standalone minimal registry [ctrl\_mpexec, pipe\_base]
- :jira:`DM-28650`: Support efficient transfer of registry content from minimal registry to shared registry [daf\_butler]
- :jira:`DM-28653`: Modify BPS to support execution butler [ctrl\_bps]
- :jira:`DM-28668`: PipelineTask unit test framework bypasses dimensions checks [ap\_pipe, pipe\_base, verify]
- :jira:`DM-28678`: Investigate pydantic for JSON serialization of Butler [daf\_butler]
- :jira:`DM-28698`: Restructure image formatter relationships [obs\_base, obs\_lsst]
- :jira:`DM-28716`: Add pybind wrapper to afw archive that handles adding set of HDUs [afw]
- :jira:`DM-28794`: Defects instantiation creates undefined/infinite bbox [ip\_isr]
- :jira:`DM-28803`: Add capability to discard stars with NaN annuli [meas\_algorithms, pipe\_tasks]
- :jira:`DM-28853`: Improve WCS functionality within fake source injection [pipe\_tasks]
- :jira:`DM-28955`: Allow passing ``alardSigGauss`` parameter to ``modelPsfMatch`` task at runtime [ip\_diffim, meas\_extensions\_gaap]
- :jira:`DM-28961`: DiaSource centroids outside of image causing crash in cuttout creation in PackageAlerts. [ap\_association]
- :jira:`DM-29007`: Lazy command line creation [ctrl\_bps]
- :jira:`DM-29031`: Research Configurable Actions [pipe\_tasks]
- :jira:`DM-29032`: Update C++ code in stack to work with C++17 [sconsUtils]
- :jira:`DM-29069`: statsControl.setNumIter(0) kills python/kernels [afw]
- :jira:`DM-29110`: Make a fakes version of the ci\_hsc\_gen3 test pipeline. [pipe\_tasks]
- :jira:`DM-29147`: Switch from using mapApData to new pipeline task and functors. [ap\_association, ap\_pipe]
- :jira:`DM-29196`: Use UUIDs as dataset\_ids in registry [daf\_butler]
- :jira:`DM-29221`: Add ApPipe.yaml pipelines to appropriate repos [ap\_pipe]
- :jira:`DM-29242`: Numpydoc conversion of meas\_algorithms through psfSelectionFromMatchList.py [meas\_algorithms]
- :jira:`DM-29249`: Strip passwords from database URIs before we print them [daf\_butler]
- :jira:`DM-29272`: PTC task: Validate that the variance calculation provided by awf and the C\_00 entry of the covariance matrix produced via FFT using Astier's code is the same [cp\_pipe]
- :jira:`DM-29273`: Fix deprecation warnings reported by sqlalchemy 1.4 [daf\_butler]
- :jira:`DM-29279`: Add initial healsparse "input map" generation to coaddition tasks [daf\_butler, pipe\_tasks]
- :jira:`DM-29289`: Measure PSF photometry with GAaP algorithm [meas\_extensions\_gaap]
- :jira:`DM-29290`: Allow GAaP flux measurement with optimal elliptical Gaussian aperture [meas\_extensions\_gaap]
- :jira:`DM-29310`: Use CoaddPsfs from all warps in getTemplate task [ip\_diffim, meas\_algorithms, pipe\_tasks]
- :jira:`DM-29311`: Add time-bound to BestSeeingSelectVisitsTasks [pipe\_tasks]
- :jira:`DM-29314`: Add debiased PSF moments to HSM [meas\_extensions\_shapeHSM]
- :jira:`DM-29325`: Update mask name in for vignetted region to match established convention [cp\_pipe]
- :jira:`DM-29338`: Incorporate Gen 3 crosstalk in HiTS runs [ap\_pipe, ap\_verify, cp\_pipe, obs\_decam]
- :jira:`DM-29341`: Enable running Fakes in CI for ap\_verify [ap\_verify]
- :jira:`DM-29344`: Investigate the CI differences between Gen 2 and 3 in COSMOS field [ap\_pipe, ap\_verify, pipe\_tasks]
- :jira:`DM-29346`: Compute PSFlux chi squared metric [ap\_association, meas\_base]
- :jira:`DM-29348`: Refactor fgcmFitCycle.py task for multiple cycles at once. [fgcm, fgcmcal, obs\_subaru]
- :jira:`DM-29363`: High-level faro documentation [faro]
- :jira:`DM-29364`: Reorganize and document faro pipelines to clarify for users [faro]
- :jira:`DM-29370`: Allow butler gen3 to retrieve amplifiers from raw [afw, daf\_butler, obs\_base, obs\_lsst, utils]
- :jira:`DM-29384`: Improve exception handling in ExecFixupDataId [ctrl\_mpexec]
- :jira:`DM-29430`: Write stricter unit tests for GAaP plugin [meas\_extensions\_gaap]
- :jira:`DM-29431`: Change envAppend to envPrepend [jointcal, meas\_algorithms, meas\_extensions\_convolved]
- :jira:`DM-29490`: Debug decorrelation afterburner when convolveTemplate=False [ip\_diffim, pipe\_tasks]
- :jira:`DM-29495`: Persist the zogy score image as a standalone datatype in gen3, clarify runtime options [pipe\_tasks]
- :jira:`DM-29500`: Link to afw Box docs from geom [afw, geom]
- :jira:`DM-29501`: replace unary\_function and binary\_function, make other changes to pass compilation with C++17 enabled [afw, geom, ip\_diffim, meas\_algorithms, meas\_base]
- :jira:`DM-29511`: Cleanup code on afw using clang-tidy [afw]
- :jira:`DM-29522`: Add spatially varying ZOGY subtraction [ip\_diffim, pipe\_tasks]
- :jira:`DM-29530`: Config Paths hardcoded during graph building [obs\_lsst, obs\_subaru, pipe\_tasks]
- :jira:`DM-29531`: Update IsrCalib so it can serve as StorageClass for subclasses [daf\_butler, ip\_isr]
- :jira:`DM-29534`: Add gen3 task to generate per-tract / per-band healsparse survey property maps [pipe\_tasks]
- :jira:`DM-29543`: Gen3 refcat converter [meas\_algorithms]
- :jira:`DM-29562`: Fix index usage in super-common butler query [daf\_butler]
- :jira:`DM-29563`: Replace boost::variant, fix clang compilation [afw, sconsUtils]
- :jira:`DM-29569`: PTC maxMeanSignal no longer works [cp\_pipe]
- :jira:`DM-29573`: Gen3 sourceTable\_visit use "detector" which breaks fgcmcal [fgcmcal]
- :jira:`DM-29580`: Can't redo part of a failed pipeline in bps with changed configs [ctrl\_mpexec]
- :jira:`DM-29583`: Create dataset class for extended PSF models [daf\_butler, pipe\_tasks]
- :jira:`DM-29589`: Fix cp\_pipe pipelines to avoid dimension conflict [cp\_pipe, obs\_lsst]
- :jira:`DM-29615`: Fix connections problems in running Gen3 jointcal on HSC RC2 [jointcal, obs\_subaru, pipe\_tasks]
- :jira:`DM-29617`: Write prototype remote butler Registry [daf\_butler]
- :jira:`DM-29627`: Update config/column names for source injection [pipe\_tasks]
- :jira:`DM-29633`: Investigate scarlet log propagation [meas\_extensions\_scarlet]
- :jira:`DM-29673`: Add CoM centroid to QuickFrameMeasurement [pipe\_tasks]
- :jira:`DM-29694`: Allow retrieval of dimensions as JSON directly from database [daf\_butler]
- :jira:`DM-29699`: CalibCombineConnections changes its quantum dimensions at construction [cp\_pipe, obs\_lsst]
- :jira:`DM-29701`: Latest weekly build fails when building utils [utils]
- :jira:`DM-29703`: Add difference imaging to DRP pipeline [ip\_diffim, pipe\_tasks]
- :jira:`DM-29708`: Make ButlerHttpURI compatible with non-webDAV HTTP backends [daf\_butler]
- :jira:`DM-29727`: Fix syntax bug introduced on DM-28636 [obs\_base]
- :jira:`DM-29728`: Create a specialized ConfigurableAction for DataFrames [pipe\_tasks]
- :jira:`DM-29735`: Felis schema file for DP0.1 [sdm\_schemas]
- :jira:`DM-29737`: Check if a SourceCatalog is sorted when calling ``find`` [afw]
- :jira:`DM-29750`: Extend DRP pipeline definitions and labeled subsets [obs\_subaru, pipe\_tasks]
- :jira:`DM-29756`: BPS - Automatic retry with larger memory [ctrl\_bps]
- :jira:`DM-29767`: Test if absolute deviation in estimated flux is large [meas\_base]
- :jira:`DM-29775`: Fix style issues in DM-29737 [afw]
- :jira:`DM-29776`: Attempt complete two-QG HSC RC2 run on w16 on one tract [obs\_subaru]
- :jira:`DM-29790`: Replace boost::filesystem with std::filesystem [afw, meas\_algorithms, meas\_modelfit]
- :jira:`DM-29794`: Investigate ci\_hsc\_gen3 image differencing failure with disassembly [daf\_butler, obs\_base, pipelines\_check]
- :jira:`DM-29795`: Add meas\_extensions\_trailedSources to lsst\_distrib [meas\_extensions\_trailedSources]
- :jira:`DM-29800`: Fix compilation with clang 11.1.0 on Linux [daf\_base]
- :jira:`DM-29804`: Add debiased HSM moments to default obs\_\* configs [obs\_decam, obs\_lsst, obs\_subaru]
- :jira:`DM-29805`: Add Arm64 support to sphgeom [sphgeom]
- :jira:`DM-29808`: Various fixes to MetadataMetricTask [verify]
- :jira:`DM-29810`: Numpydoc conversion of meas\_algorithms through simple\_curve.py [meas\_algorithms]
- :jira:`DM-29812`: Remove mapApData.py. [ap\_association]
- :jira:`DM-29830`: Add DC2 defaults to obs\_lsst imsim configs [obs\_lsst]
- :jira:`DM-29841`: Update faro application of external calibs [faro]
- :jira:`DM-29849`: Speed up many-dataset deletion [daf\_butler]
- :jira:`DM-29853`: Update autoconf files for psfex package [psfex]
- :jira:`DM-29856`: Switch ap\_verify.py to Gen 3 by default [ap\_verify]
- :jira:`DM-29862`: Fix bug when no suitable stars are found by ProcessBrightStarsTask [pipe\_tasks]
- :jira:`DM-29863`: ShapeHSM fails when psf bbox size is position dependent. [meas\_extensions\_shapeHSM]
- :jira:`DM-29869`: Make doScaleDiffimVariance=True the default in ImageDifferenceTask [ap\_pipe, pipe\_tasks]
- :jira:`DM-29877`: Avoid avoidable logic error in measureCrosstalk [cp\_pipe]
- :jira:`DM-29881`: Investigate differences in gen2 vs. gen3 SFP products for HSC-Y [ip\_isr, obs\_decam]
- :jira:`DM-29883`: HealSparseMap formatter does not work in IDF [pipe\_tasks]
- :jira:`DM-29888`: Add config field(s) to meas\_extensions\_scarlet to run on a subset of an input catalog [meas\_deblender, meas\_extensions\_scarlet]
- :jira:`DM-29890`: Fix gen3 makeWarpTask to properly propagate external photocalibs [pipe\_tasks]
- :jira:`DM-29891`: Aperture correction for GAaP fluxes [meas\_extensions\_gaap]
- :jira:`DM-29892`: Attribute error for PF1Task [faro]
- :jira:`DM-29893`: un-hardcode bps report output [ctrl\_bps]
- :jira:`DM-29907`: Fix meas\_extensions\_scarlet sorting issue [pipe\_tasks]
- :jira:`DM-29908`: Registry collection loading can fail due to concurrent deletes [daf\_butler]
- :jira:`DM-29916`: Single-shot, multi-cycle FGCM is memory-inefficient [fgcm, fgcmcal]
- :jira:`DM-29921`: Remove erroneous debug item from datastore config [daf\_butler]
- :jira:`DM-29933`: Add base classes for single-detector source catalog metrics [faro]
- :jira:`DM-29936`: Enable getting Children without repeatedly checking if the SourceCatalog is sorted [afw, meas\_base]
- :jira:`DM-29940`: Update DP0.1 Felis with table\_index values [sdm\_schemas]
- :jira:`DM-29944`: Add some narrow-band filters to skymap's tract+patch+band data ID packers [skymap]
- :jira:`DM-29950`: Use UUID5 for raw ingest when using UUIDs [daf\_butler, obs\_base]
- :jira:`DM-29953`: bps submit TypeError about SerializedDataCoordinate [ctrl\_bps]
- :jira:`DM-29965`: Persist the preconvolved Alard-Lupton difference image as a gen3 dataset [pipe\_tasks]
- :jira:`DM-29966`: Fix logic defaulting butler.yaml in butler config [daf\_butler]
- :jira:`DM-29970`: Cleanup histogram classes [jointcal]
- :jira:`DM-29981`: Migrate cp\_pipe pipelines as defined in RFC-775 [cp\_pipe, obs\_lsst, obs\_subaru]
- :jira:`DM-29987`: Save Detectors with master calibrations [cp\_pipe]
- :jira:`DM-30004`: Replace boost::regex with std::regex [afw, daf\_base, daf\_persistence]
- :jira:`DM-30022`: Create input/output pipeline mimicking LSSTDESC/dia\_pipe AssociationTask [pipe\_tasks]
- :jira:`DM-30023`: Replace C++17 deprecated uncaught\_exception [utils]
- :jira:`DM-30024`: Implement matching in DRP DiaAssociation task [pipe\_tasks]
- :jira:`DM-30030`: Make calibration source selection consistent between gen2 and gen3 middleware - part deux [ap\_association, meas\_algorithms, meas\_astrom, obs\_base, obs\_subaru]
- :jira:`DM-30046`: Investigate memory usage of ForcedPhotCcd [meas\_base]
- :jira:`DM-30054`: Generalize fgcmLoadReferenceCatalog for broader use. [pipe\_tasks]
- :jira:`DM-30056`: requestCpus not ending up in HTCondor submit files [ctrl\_bps]
- :jira:`DM-30057`: AP timing metrics out of date [ap\_association, ap\_verify]
- :jira:`DM-30061`: PipelineTasks do not use pipeline label as name [ctrl\_mpexec, pipe\_base]
- :jira:`DM-30071`: FgcmBuildStarsTableConnections sourceSchema should be an InitInput [fgcmcal]
- :jira:`DM-30076`: Fix missing config imports in obs\_lsst [obs\_lsst]
- :jira:`DM-30079`: Corrupted documentation breaks documentation builds [ip\_diffim]
- :jira:`DM-30093`: Astropy Header object does not behave dict-like. [astro\_metadata\_translator]
- :jira:`DM-30104`: Make pickling the clustered quantum graph optional [ctrl\_bps]
- :jira:`DM-30105`: Get children sources without repeatedly checking if the afw SourceCatalog is sorted by parent [afw, meas\_base]
- :jira:`DM-30109`: Fix error introduced in DM-29841 (external calibs) implementation [faro]
- :jira:`DM-30124`: error trying to specify query for ingest\_date [daf\_butler]
- :jira:`DM-30125`: Add simple unit tests for image differencing [ip\_diffim]
- :jira:`DM-30130`: Establish a 1-1 correspondence between exposures and input dimensions in cpPtcExtract [cp\_pipe]
- :jira:`DM-30139`: Make position Optional when manually instantiating Stamps [meas\_algorithms]
- :jira:`DM-30140`: Add bulk datastore trash API [daf\_butler]
- :jira:`DM-30142`: Support P and Q for simulated images [obs\_lsst]
- :jira:`DM-30145`: Allow sqlalchemy to use IN operator for DELETE [daf\_butler]
- :jira:`DM-30147`: Butler warning about TypeDecorator Base64Bytes() [daf\_butler]
- :jira:`DM-30148`: PipelineTasks use wrong label as name [ctrl\_mpexec]
- :jira:`DM-30149`: Check if the TransformDiaSourceCatalog pipeline task can be used on DC2 data for use in DP0 [pipe\_tasks]
- :jira:`DM-30153`: Make jointcal debug output files not collide [jointcal]
- :jira:`DM-30157`: sconsUtils with conda change fails in flake8 test [sconsUtils]
- :jira:`DM-30161`: Remove deprecated configs in fgcmFitCycle [fgcmcal]
- :jira:`DM-30162`: Document the changes made in RFC-750 [pipe\_tasks]
- :jira:`DM-30169`: Define flat tests for cp\_verify [cp\_verify]
- :jira:`DM-30178`: Please make daf\_butler compatible with sqlalchemy 2 [daf\_butler]
- :jira:`DM-30192`: Add Task to generate CcdVisit Table [pipe\_tasks]
- :jira:`DM-30193`: Add Task to generate Visit Table [pipe\_tasks]
- :jira:`DM-30200`: Support glob strings in registry query APIs for collections and dataset types [daf\_butler]
- :jira:`DM-30202`: Add "online" coaddition code to meas\_algorithms and pipe\_tasks [meas\_algorithms, pipe\_tasks]
- :jira:`DM-30204`: Add support for filter N708 to DECam [obs\_decam]
- :jira:`DM-30212`: Concatenate DRP DiaSource parquet tables into a per-visit table [pipe\_tasks]
- :jira:`DM-30224`: Refactor GAaP plugin implementation [meas\_extensions\_gaap]
- :jira:`DM-30245`: Document cp\_pipe [cp\_pipe]
- :jira:`DM-30254`: Fix jointcal crash when doing outlier rejection on only the model [jointcal]
- :jira:`DM-30257`: Remove eotest dependency from cp\_pipe [cp\_pipe]
- :jira:`DM-30270`: Make doFilterMorphological=True default in obs\_subaru [obs\_subaru]
- :jira:`DM-30272`: Change default for dataset\_id in registry to UUID [daf\_butler]
- :jira:`DM-30281`: Demonstrate the effect of random padding regeneration and fix unit test by making padding deterministic [ip\_diffim]
- :jira:`DM-30286`: Define a verbose log level for daf\_butler [daf\_butler]
- :jira:`DM-30287`: Add LoadIndexedReferenceObjectsTask RST doc [meas\_algorithms]
- :jira:`DM-30291`: Setup towncrier on daf\_butler [daf\_butler]
- :jira:`DM-30296`: ap\_verify HSC Gen 3 ingestion crashes on missing defineVisits config [obs\_subaru]
- :jira:`DM-30299`: Specify ``sigmas`` in units of arcsec instead of pixels for the GAaP plugin [meas\_extensions\_gaap]
- :jira:`DM-30301`: Switch Task to use python logging rather than lsst.log [obs\_test, meas\_base, obs\_base, pipe\_base, pipe\_tasks]
- :jira:`DM-30316`: Write UUID migration script for sqlite [daf\_butler]
- :jira:`DM-30321`: Validate the schema in ci\_hsc\_gen3 [sdm\_schemas]
- :jira:`DM-30335`: Demonstrate process for use of execution butler [daf\_butler, pipe\_base]
- :jira:`DM-30339`: Replace boost::any with std::any [afw, daf\_base]
- :jira:`DM-30342`: Propagate flags to Object tables [obs\_lsst, obs\_subaru, sdm\_schemas]
- :jira:`DM-30345`: Replace modelPsfMatch task with low-level building blocks [meas\_extensions\_gaap]
- :jira:`DM-30346`: Remove boost:serialization [afw]
- :jira:`DM-30349`: Source count metrics include fake sources [ap\_verify, pipe\_tasks]
- :jira:`DM-30350`: Replace individual graph files to a single per workflow [ctrl\_bps]
- :jira:`DM-30351`: Make sure brighter-fatter correction is working on DC2 data for DP0.2 [ip\_isr, obs\_base, obs\_lsst, obs\_lsst\_data, pipe\_tasks]
- :jira:`DM-30355`: Set only specialized flags upon convolution errors [meas\_extensions\_gaap]
- :jira:`DM-30365`: Gen3 RC2 reprocessing with w\_2021\_22 and bps [skymap]
- :jira:`DM-30372`: Specifying a manager in a butler seed prevents other managers from being specified [daf\_butler]
- :jira:`DM-30373`: Add butler command line tool for creating collection chains [daf\_butler]
- :jira:`DM-30386`: Make DRP wrapper task for DiaCalculation task [ap\_association, meas\_base, pipe\_tasks]
- :jira:`DM-30425`: Error in daf\_base EPOCH definition [daf\_base]
- :jira:`DM-30426`: Out-of-bounds array access in shapeHSM [afw, meas\_extensions\_piff, meas\_extensions\_shapeHSM]
- :jira:`DM-30428`: Add corrected Naive measurement to meas\_extensions\_trailedSources [meas\_extensions\_trailedSources]
- :jira:`DM-30444`: Require X% template coverage to attempt image subtraction [ip\_diffim, pipe\_tasks]
- :jira:`DM-30445`: Have Stamps contain an optional Archive element [meas\_algorithms]
- :jira:`DM-30448`: Use correct shape measurement for ellipticity residual calculation [faro]
- :jira:`DM-30465`: Implement decorrelation afterburner for maximum likelihood images [ip\_diffim, pipe\_tasks]
- :jira:`DM-30490`: Add delta-magnitude check to AstrometryTask [meas\_astrom]
- :jira:`DM-30497`: Bug: DiaSource table cannot find Ixx column [ap\_association]
- :jira:`DM-30534`: Test and Implement Default Parameters for Jointcal Outlier Rejection [jointcal, obs\_subaru]
- :jira:`DM-30560`: Error running fakes insertation with HiTS-2015 dataset [pipe\_tasks]
- :jira:`DM-30563`: ap\_verify failing to find dataset type fakes\_deepDiff\_warpedExp [ap\_pipe, ap\_verify]
- :jira:`DM-30564`: Improve task label uniqueness exception message [pipe\_base]
- :jira:`DM-30630`: Filter look-up for in isrTask is broken in a few places [ip\_isr]
- :jira:`DM-30633`: Add meas\_extensions\_trailedSources as setupOptional to lsst\_distrib [lsst\_distrib]
- :jira:`DM-30649`: Exit with new gen3 "expected failure" exit code when its available [ctrl\_mpexec, ip\_isr, obs\_lsst, pipe\_base, pipe\_tasks]
- :jira:`DM-30653`: Write some release notes for v22 release of middleware [ctrl\_mpexec, daf\_butler, obs\_base, pipe\_base]
- :jira:`DM-30665`: Add Source and Object schema\_checks to ci\_imsim [sdm\_schemas]
- :jira:`DM-30673`: Update docs and function names in associationUtils.py [pipe\_tasks]
- :jira:`DM-30683`: Remove diaSourceAnalysis.py [ip\_diffim]
- :jira:`DM-30685`: Remove physical\_filter+detector+exposure entry from fileDatastore.yaml templates [daf\_butler]
- :jira:`DM-30692`: Add refObjLoader lookups for DECam N708 filter [obs\_decam]
- :jira:`DM-30693`: Add meas\_extensions\_gaap to lsst\_distrib [lsst\_distrib]
- :jira:`DM-30696`: Add task to translate gen2 fgcmcal photocalibs to gen3 photocalib catalog [fgcmcal]
- :jira:`DM-30701`: Propagate astrometry offset stats in AstrometryTask and store in ExposureSummaryStats/VisitSummary [afw, meas\_astrom, pipe\_tasks]
- :jira:`DM-30702`: Add provenance information to quantum graph [ctrl\_mpexec, pipe\_base]
- :jira:`DM-30718`: butler.get fails to recognize full dataId [daf\_butler]
- :jira:`DM-30733`: Fix bug in BrightStarStamps' initAndNormalize method [meas\_algorithms]
- :jira:`DM-30738`: Backport gen3 imSim BF-kernels for gen2 [ip\_isr, obs\_lsst]
- :jira:`DM-30743`: Create temporary cache directory only when needed [daf\_butler]
- :jira:`DM-30753`: Automated publishing pipeline of TAP\_SCHEMA metadata [sdm\_schemas]
- :jira:`DM-30761`: "bind" keyword argument not forward in queryDatasets recursion [daf\_butler]
- :jira:`DM-30766`: pipe\_tasks test\_associationUtils has a broken MemoryTestCase [pipe\_tasks]
- :jira:`DM-30767`: Execution butler builder needs to insert initOutput datasets [ctrl\_mpexec, daf\_butler, pipe\_base]
- :jira:`DM-30771`: Execution butler must be able to skip components on get [daf\_butler]
- :jira:`DM-30776`: Move MatchApFakesTask to pipe\_tasks [ap\_pipe, ap\_verify, pipe\_tasks]
- :jira:`DM-30777`: Remove unused includes in afw [afw, jointcal]
- :jira:`DM-30784`: butler transfer datasets must create dataset types if necessary [daf\_butler]
- :jira:`DM-30787`: Translate getting started tutorials to use gen3 and the new RC2 subset [pipe\_base]
- :jira:`DM-30795`: Fix ap\_verify breakage due to DM-30649 [ap\_verify]
- :jira:`DM-30798`: Fix ap\_association breakage due to DM-30649 [ap\_association]
- :jira:`DM-30801`: Pass memory requirements to PanDA for automatic queue brokerage decision [ctrl\_bps]
- :jira:`DM-30815`: Update expBits used in gen2 bulter to match value computed for gen3 [obs\_lsst]
- :jira:`DM-30820`: Investigate effect of reducing background fit Chebyshev polynomial order in DC2 [obs\_lsst]
- :jira:`DM-30823`: Add modelPhotRep metrics to faro [faro]
- :jira:`DM-30829`: Add persistence method for WarpedPsf [afw, meas\_algorithms]
- :jira:`DM-30838`: Disable bright-object-mask-based catalog flags for ImSim/DC2 [obs\_lsst]
- :jira:`DM-30842`: Add healSparsePropertyMaps task to pipeline subsets [obs\_subaru, pipe\_tasks]
- :jira:`DM-30843`: HealSparsePropertyMapTask should check for input consistency [pipe\_tasks]
- :jira:`DM-30855`: Butler unit tests fail with click8 [daf\_butler]
- :jira:`DM-30858`: Add GAaP measurements to obs packages [obs\_lsst, obs\_subaru, sdm\_schemas]
- :jira:`DM-30860`: Make doc folder in meas\_extensions\_gaap follow the template [meas\_extensions\_gaap]
- :jira:`DM-30863`: Update LATISS visit region padding to 4k pixels [obs\_lsst]
- :jira:`DM-30866`: Add support for replacing bad DimensionRecords, use it in DefineVisits and RawIngest, and fix old LATISS visit regions [daf\_butler, obs\_base]
- :jira:`DM-30876`: healSparseMappingProperties crashes when a patch has no coverage in inner region [pipe\_tasks]
- :jira:`DM-30883`: Incorrect triplet initialization can result in crash [jointcal]
- :jira:`DM-30884`: Fix schema inconsistency in hsc.yaml [sdm\_schemas]
- :jira:`DM-30900`: Stop using obs\_\* configurations in fgcmcal [fgcmcal]
- :jira:`DM-30902`: Numpydoc conversion of meas\_algorithms through stamps.py [meas\_algorithms]
- :jira:`DM-30905`: Numpydoc conversion of meas\_algorithms through utils.py [meas\_algorithms]
- :jira:`DM-30921`: Gen3 MakeWarpTask should skip a detector with no wcs/photocalib [pipe\_tasks]
- :jira:`DM-30926`: Add SkySources to ImageDifferenceTask [ap\_association, ap\_pipe, pipe\_tasks]
- :jira:`DM-30935`: Add generic butler ingest command [daf\_butler]
- :jira:`DM-30939`: Fixup image type headers in old LATISS data [obs\_lsst]
- :jira:`DM-30940`: Add the --date-created command line option to dispatch\_verify.py [verify]
- :jira:`DM-30943`: Turn on delta mag rejection for astrometry matching in configs for LSSTCam-imSim [obs\_lsst]
- :jira:`DM-30951`: patchInfo.getIndex() returns the second index with a float instead of an int [skymap]
- :jira:`DM-30959`: Prevent maskStreaks failure due to unmasked nans or infs [pipe\_tasks]
- :jira:`DM-30965`: Update PanDA plugin to support lazy commands generation [ctrl\_bps]
- :jira:`DM-30967`: Fix segfault due to MKL [base]
- :jira:`DM-30977`: Write pipeline task log output to butler [ctrl\_mpexec, daf\_butler, pipe\_base]
- :jira:`DM-30985`: Second attempt to fix hard coded paths in functorFile config [ap\_association, ap\_pipe, dax\_apdb]
- :jira:`DM-30992`: dax\_apdb's uint64 is incompatible with pandas 1.3.0 [dax\_apdb]
- :jira:`DM-30995`: butler make-discrete-skymap is broken [pipe\_tasks]
- :jira:`DM-30996`: Implement log4cxx appender to Python logging [log]
- :jira:`DM-31016`: Replace all print statements in faro with log statements [faro]
- :jira:`DM-31023`: Add wise\_01 schema description to sdm\_schemas [sdm\_schemas]
- :jira:`DM-31026`: Create Ephemeris Cache Precomputation Task for SSO attribution pipeline [ap\_association]
- :jira:`DM-31027`: statsCtrl.getMaskPropagationThreshold has buffer overrun and can segfault [afw]
- :jira:`DM-31031`: Define for DC2 DRP pipeline a step1, 2, and 3 (and redefine for HSC) [obs\_lsst, obs\_subaru]
- :jira:`DM-31033`: Move DiaCalculation from a subtask of AssociationTask to a subtask of DiaPipe. [ap\_association]
- :jira:`DM-31043`: Update ctrl\_bps setup.cfg with flake8's max-doc-length=79 [ctrl\_bps]
- :jira:`DM-31054`: Make aggregation steps robust to expected failures in RC2/DC2 [ctrl\_mpexec, pipe\_tasks]
- :jira:`DM-31055`: The length is not long enough for the "skymap" column [sdm\_schemas]
- :jira:`DM-31060`: Clean up some log usage in Tasks [ip\_diffim, ip\_isr, meas\_algorithms, meas\_base, meas\_extensions\_gaap, obs\_base, pipe\_tasks]
- :jira:`DM-31062`: Allow GAaP aperture corrections to fail [meas\_extensions\_gaap]
- :jira:`DM-31064`: Create metric to capture the total number of fake sources used [ap\_pipe, ap\_verify, verify\_metrics]
- :jira:`DM-31066`: Move "convolution mode" log messages [ip\_diffim, meas\_extensions\_gaap]
- :jira:`DM-31077`: Implement principal-column flagging for DP0.1 tables [sdm\_schemas]
- :jira:`DM-31079`: Butler define-visits ignores collection [obs\_base]
- :jira:`DM-31093`: Trigger deployment of wise\_01 to TAP\_SCHEMA in NCSA RSP instances [sdm\_schemas]
- :jira:`DM-31096`: Fix bitrot in gen3 linearity solver [cp\_pipe]
- :jira:`DM-31100`: Alter code for Networkx compatibility [pipe\_base]
- :jira:`DM-31103`: Add some missing python logging APIs to lsst.log [log]
- :jira:`DM-31105`: Update faro pipelines to completely separate those with/without applying external calibrations [faro]
- :jira:`DM-31116`: Deleting non-existant files from S3 ButlerURI triggers backoff [daf\_butler]
- :jira:`DM-31119`: Investigate all-NaN columns in objectTable\_tract [obs\_lsst, obs\_subaru, sdm\_schemas]
- :jira:`DM-31120`: Change butler logger to python logging [ctrl\_mpexec, daf\_butler, log]
- :jira:`DM-31131`: lsst.verify outputs non-standard NaN in JSON [verify]
- :jira:`DM-31135`: Add DM license preamble for each of the python files [faro]
- :jira:`DM-31136`: Consistently adopt DM convention for class names involving Task, Config, and Connections [faro]
- :jira:`DM-31141`: Add test decorators for cartesian product [utils]
- :jira:`DM-31146`: Add cp\_verify to lsst\_distrib [cp\_verify, lsst\_distrib]
- :jira:`DM-31152`: Fix line/file reporting for lsst.log.warning [log]
- :jira:`DM-31156`: Investigate GAaP colors in DC2 involving g band [obs\_lsst, obs\_subaru]
- :jira:`DM-31163`: Add section to Object Table spec for flags taken from forced\_src [obs\_lsst, obs\_subaru, pipe\_tasks]
- :jira:`DM-31174`: str() method failure on lsst.ip.isr.Defects class [ip\_isr]
- :jira:`DM-31180`: ap\_verify loses logs from pipeline [ap\_verify]
- :jira:`DM-31188`: Fix LoadReferenceCatalogTask so it doesn't temporarily clobber its own config [pipe\_tasks]
- :jira:`DM-31217`: Add task to consolidate healsparse property maps [obs\_lsst, obs\_subaru, pipe\_tasks, skymap]
- :jira:`DM-31220`: API mismatch in Gen 2 ap\_pipe [ap\_association, ap\_pipe]
- :jira:`DM-31228`: Migrate obs packages to python logging where appropriate [obs\_cfht, obs\_decam, obs\_lsst, obs\_subaru]
- :jira:`DM-31238`: Remove phosimToRafts from obs\_lsst [obs\_lsst]
- :jira:`DM-31240`: Add support of Execution Butler into the PanDA plugin [ctrl\_bps]
- :jira:`DM-31249`: Fix ButlerURI.join confusion with schemeless URI [daf\_butler]
- :jira:`DM-31251`: Add execution butler example to pipelines\_check [daf\_butler, pipe\_base, pipelines\_check]
- :jira:`DM-31255`: Fix log-to-butler failutres with --skip-existing [ctrl\_mpexec]
- :jira:`DM-31262`: Execution butler creation should not forward namespace value [pipe\_base]
- :jira:`DM-31267`: Jointcal failures in w\_2021\_30 [jointcal]
- :jira:`DM-31272`: Allow for curation of schema\_index values "above" the Felis-file level [sdm\_schemas]
- :jira:`DM-31275`: w\_2021\_30 deblend or mergeDetections not playing nice with missing bands [pipe\_tasks]
- :jira:`DM-31278`: transformDiaSourceCatalog.py not expanding environment variables after weekly 29 [ap\_association]
- :jira:`DM-31282`: Fetch only last-produced metric in chained collection in gen3\_to\_job [verify]
- :jira:`DM-31285`: Enable meas\_algorithms python API docs [meas\_algorithms]
- :jira:`DM-31291`: Documentation for CatalogMeasurementBase broken [faro]
- :jira:`DM-31294`: Re-run faro on DC2 and re-dispatch with appropriate dates [faro]
- :jira:`DM-31295`: Add timers for datastore activities and improve S3 performance [daf\_butler]
- :jira:`DM-31301`: Fix VignetteExposure name [cp\_pipe, cp\_verify]
- :jira:`DM-31306`: Create single SAL script that produces biases, darks, and flats [cp\_pipe]
- :jira:`DM-31313`: Add htmIndex computation for DiaSources [ap\_association, pipe\_tasks]
- :jira:`DM-31324`: Rearrange steps in DRP.yaml for more complete outputs and weave in diffm [obs\_lsst, obs\_subaru]
- :jira:`DM-31326`: Run faro on gen3\_RC2\_subset and set it up in Jenkins [faro]
- :jira:`DM-31331`: Add new log options to bps [ctrl\_bps]
- :jira:`DM-31337`: Allow skipping calibration collections in registry search methods [daf\_butler]
- :jira:`DM-31344`: Execution butler creation fails on s3 [daf\_butler]
- :jira:`DM-31345`: thousands of "psfMatch ERROR:" in ci\_imsim and ci\_hsc. [meas\_extensions\_gaap]
- :jira:`DM-31355`: Switch from the deprecated log.getName() to log.name [ap\_verify, ip\_diffim, meas\_extensions\_piff]
- :jira:`DM-31359`: MaskStreaks sending bad matrix to scipy.linalg.cho\_factor [pipe\_tasks]
- :jira:`DM-31360`: w\_2021\_30 deblend still not playing nice with missing bands [pipe\_tasks]
- :jira:`DM-31366`: Add confirmation request to butler prune-collection [daf\_butler]
- :jira:`DM-31367`: Add butler register-dataset-type subcommand [daf\_butler]
- :jira:`DM-31376`: assembleCoadd can't handle when selectVisit selects a visit with no Warp [pipe\_tasks]
- :jira:`DM-31381`: No connection called refDataset in CatalogMeasurementBaseConnections [faro]
- :jira:`DM-31382`: Run faro in ci\_hsc and ci\_imsim [faro]
- :jira:`DM-31384`: Add pipetask log option to add arbitrary MDC records [ctrl\_bps, ctrl\_mpexec, daf\_butler]
- :jira:`DM-31389`: Move new DiaObject creation out of AssociationTask [ap\_association]
- :jira:`DM-31394`: Overscan subtraction can create negative variance [ip\_isr]
- :jira:`DM-31398`: Error with execution butler on IDF's DC2 repo [daf\_butler, pipe\_base]
- :jira:`DM-31412`: Add config/imsim/charImage.py to obs\_lsst [obs\_lsst]
- :jira:`DM-31417`: Add makeHpxWcs to afwGeom to make an HPX SkyWcs object. [afw]
- :jira:`DM-31419`: ImageDifferenceTask no longer timed in AP [ap\_pipe, ap\_verify, verify]
- :jira:`DM-31429`: UNION ALL in subqueries is causing catastrophic database pessimizations [daf\_butler]
- :jira:`DM-31434`: Placeholder PSF WARN in charImage should be INFO [pipe\_tasks]
- :jira:`DM-31442`: Pass logName for undeblended plugins [meas\_base]
- :jira:`DM-31443`: Fix typo in quickFrameMeasurement task [pipe\_tasks]
- :jira:`DM-31445`: Ensure GAaP measurements are aperture corrected [meas\_extensions\_gaap, obs\_lsst, obs\_subaru]
- :jira:`DM-31448`: Allow gen2 butler lookups even when fields in the dataId are not in the registry [daf\_persistence]
- :jira:`DM-31462`: Add random seed config to make fgcm density downsampling repeatable [fgcm, fgcmcal, obs\_subaru]
- :jira:`DM-31466`: segfault when spatialOrder is zero in psfDetermination [meas\_extensions\_psfex]
- :jira:`DM-31472`: Execution Butler merge failed with large workflows [daf\_butler]
- :jira:`DM-31476`: Clean up PanDA's example bps yaml file [ctrl\_bps]
- :jira:`DM-31489`: Update StrayLightData to use FitsGenericFormatter with a deferred data set [ip\_isr, obs\_subaru]
- :jira:`DM-31505`: Update fgcm to better handle survey edges and reference star outliers [fgcm, fgcmcal]
- :jira:`DM-31507`: Adjust stack objects to accommodate reference counting [ctrl\_mpexec, daf\_butler, pex\_config, pipe\_base, pipe\_tasks]
- :jira:`DM-31520`: Request butler collection-chain to take comma-separated list [daf\_butler, pipelines\_check]
- :jira:`DM-31528`: Add more log messages to the measure task [meas\_base, meas\_extensions\_scarlet]
- :jira:`DM-31530`: Log outputs are being swallowed when running pipe\_drivers scripts [ctrl\_pool]
- :jira:`DM-31535`: Deprecate PSF methods default position argument [afw]
- :jira:`DM-31540`: Remove butlerQC.registry usage from fgcmcal [fgcmcal]
- :jira:`DM-31541`: Change pipetaskInit job to not read full QuantumGraph [ctrl\_bps]
- :jira:`DM-31542`: Examine why disassembled composites take up much more space in datastore [afw, daf\_butler]
- :jira:`DM-31543`: Update sdm\_schemas to make DP0.1 catalogs on NCSA "small" qserv visible to TAP [sdm\_schemas]
- :jira:`DM-31545`: Fix cp\_pipe/defects debug error [cp\_pipe]
- :jira:`DM-31548`: patch\_skypix\_overlap table needs an additional index [daf\_butler]
- :jira:`DM-31549`: Fix clang compilation in lsst\_distrib [log]
- :jira:`DM-31564`: Fix sconsUtils to allow running CodeChecker [sconsUtils]
- :jira:`DM-31571`: Gen3 isrTask could be made to take a default None camera object [ip\_isr]
- :jira:`DM-31579`: Fix permissions of butler log datasets [ctrl\_mpexec]
- :jira:`DM-31580`: Split "step5" into a per-tract step5 and a per-visit step6 [obs\_lsst, obs\_subaru]
- :jira:`DM-31583`: Add interfaces to dataset summary table data and use it to improve query generation [daf\_butler, pipe\_base]
- :jira:`DM-31591`: Update developer guide on logging practices [meas\_base]
- :jira:`DM-31596`: Export DM-28920 calibrations for use at the summit [daf\_butler]
- :jira:`DM-31601`: Add tasks to forced phot diaObjects on calexps,diffim,coadds [ap\_association, meas\_base, obs\_lsst, obs\_subaru, pipe\_tasks]
- :jira:`DM-31609`: lsst.verify.Measurement needs a useful \_\_repr\_\_() [verify]
- :jira:`DM-31623`: Support dataId rewriting on butler.put [daf\_butler]
- :jira:`DM-31631`: Forward job creation message on to dispatch\_verify [verify]
- :jira:`DM-31640`: New filter installed in LATISS, needs to be declared in filters.py [obs\_lsst]
- :jira:`DM-31659`: Logging loses part of message in assembly.py [obs\_lsst]
- :jira:`DM-31663`: fgcm 3.6.7 (with fgcmcal 779eefa) fails on macOS Catalina [fgcm]
- :jira:`DM-31664`: Fix clang compilation warnings [jointcal, meas\_extensions\_psfex]
- :jira:`DM-31676`: Add genTemplate to obs\_subaru/obs\_lsst subsets for DC2/RC2 batch reruns [obs\_lsst, obs\_subaru, pipe\_tasks]
- :jira:`DM-31691`: pipetask doesn't find dataset in execution butler from previous run. [ctrl\_mpexec]
- :jira:`DM-31692`: Fix edge handling in cp\_verify CR cases [cp\_verify]
- :jira:`DM-31696`: VERBOSE log-level in pipetask run sometimes issues DEBUG log messages [daf\_butler, ip\_isr]
- :jira:`DM-31700`: Butler parquet formatter fails to load table with no indexes [daf\_butler]
- :jira:`DM-31710`: Optimize crosstalkSources lookup in IsrTask [ip\_isr]
- :jira:`DM-31711`: Problems pipetask --save-execution-butler  w\_2021\_37 [ctrl\_mpexec]
- :jira:`DM-31721`: Create cpputils package [afw, ap\_pipe, ap\_verify, cpputils, daf\_base, geom, jointcal, meas\_algorithms, meas\_base, meas\_extensions\_trailedSources, meas\_modelfit, obs\_cfht, obs\_decam, obs\_lsst, obs\_subaru, utils]
- :jira:`DM-31722`: Move utility code out of pipe\_base and daf\_butler into utils package [utils]
- :jira:`DM-31760`: Single amp reads for obs\_lsst have the wrong geometry. [obs\_lsst]
- :jira:`DM-31765`: Make ForcedSourceOnDiaObjectsTable [obs\_lsst, obs\_subaru, pipe\_tasks]
- :jira:`DM-31783`: Register DECam N419 and N540 filters [obs\_decam]
- :jira:`DM-31785`: make butler transfer-datasets more efficient [daf\_butler]
- :jira:`DM-31796`: Add SDSS filters for LATISS in filters.py [obs\_lsst]
- :jira:`DM-31809`: length of mask and means can disagree in BrighterFatterKernelSolveTask [cp\_pipe]
- :jira:`DM-31822`: github pages based schema browser [sdm\_schemas]
- :jira:`DM-31825`: Parquet Table clean up before DP0.2 Preliminary run. [ap\_association, fgcmcal, jointcal, meas\_base, obs\_lsst, obs\_subaru, pipe\_tasks, sdm\_schemas]
- :jira:`DM-31826`: FileDatastore.transfer\_from is replacing physical files with circular symlinks in the execution butler final job [daf\_butler]
- :jira:`DM-31827`: Stop providing fgcm photoCalib solutions when dubious [fgcmcal]
- :jira:`DM-31832`: Change default LoadDiaCatalogs behavior to spatial loading of DiaSources. [ap\_association]
- :jira:`DM-31841`: The queue parameter submitted on per task level is not available in the GenericWorkflowJob [ctrl\_bps]
- :jira:`DM-31846`: Ongoing Jenkins issues [faro]
- :jira:`DM-31848`: Add faro steps to DRP.yaml in obs\_lsst/imsim [obs\_lsst]
- :jira:`DM-31849`: ForcedPhotCcdOnDataFrame outputs all NaNs [meas\_base, pipe\_tasks]
- :jira:`DM-31859`: Add user-specified clustering to bps [ctrl\_bps]
- :jira:`DM-31861`: HSC DRP.yaml should not import from jointcal tests [obs\_subaru]
- :jira:`DM-31869`: Remove computeShape calls without argument in GAaP [meas\_base, meas\_extensions\_gaap]
- :jira:`DM-31887`: Make execution butler default in ctrl\_bps [ctrl\_bps]
- :jira:`DM-31891`: Fix cp\_pipe documentation build error [cp\_pipe]
- :jira:`DM-31900`: Use per task cloud setting in PanDA plugin [ctrl\_bps]
- :jira:`DM-31903`: Add update kwargs/option to instrument registration [obs\_base, obs\_cfht, obs\_decam, obs\_lsst, obs\_subaru]
- :jira:`DM-31912`: Add additional GAaP circular apertures for DP0.2 [obs\_lsst, sdm\_schemas]
- :jira:`DM-31941`: Log dataset does not overwrite on rerun with execution butler [ctrl\_mpexec, daf\_butler]
- :jira:`DM-31944`: concurrency\_limit split in htcondor submit file [ctrl\_bps]
- :jira:`DM-31948`: Fix regression in AP catalog metrics [ip\_diffim]
- :jira:`DM-31970`: Fix submission AttributeError in htcondor plugin when not using execution butler [ctrl\_bps]
