.. _release-v20-0-0:

Spring 2020 Release (v20_0_0)
=============================

+-------------------------------------------+------------+
| Source                                    | Identifier |
+===========================================+============+
| Git tag                                   | 20.0.0     |
+-------------------------------------------+------------+
| :doc:`EUPS distrib </install/newinstall>` | v20\_0\_0  |
+-------------------------------------------+------------+

- :ref:`release-v20-0-0-functionality`
- :ref:`release-v20-0-0-interface`
- :ref:`release-v20-0-0-pending-deprecations`
- :ref:`release-v20-0-0-deprecations`

*See also:*

.. todo::

   Insert link to the CMR when it is available.

.. todo::

   Insert link to Doxygen documentation when the release is frozen.

- :doc:`Installation instructions <../install/index>`
- :doc:`Known issues </known-issues>`
- `Characterization Metric Report (DMTR-XXX) <https://ls.st/DMTR-XXX>`_
- `Doxygen Documentation`__

__ http://doxygen.lsst.codes/stack/doxygen/xlink_master_XXXX/

These release notes highlight significant changes to the Science Pipelines codebase which are likely to be of wide interest.
For a complete list of changes made, see :ref:`release-v20-0-0-tickets`.

.. _release-v20-0-0-functionality:

Major Functionality Changes
---------------------------

.. _release-v20-0-0-interface:

Significant Interface Changes
-----------------------------

- :ref:`release-v20-0-0-remove-obs_lsstSim`
- :ref:`release-v20-0-0-remove-afwGeom`
- :ref:`release-v20-0-0-remove-PixelScaleBoundedField`
- :ref:`release-v20-0-0-remove-addDistortionModel`
- :ref:`release-v20-0-0-remove-_extractAmpId`
- :ref:`release-v20-0-0-remove-pex_policy`
- :ref:`release-v20-0-0-remove-astrometry_net_data`
- :ref:`release-v20-0-0-remove-getHasRawInfo`
- :ref:`release-v20-0-0-remove-pixelScale`
- :ref:`release-v20-0-0-remove-obs_sdss`


.. _release-v20-0-0-remove-obs_lsstSim:

Removal of the obs_lsstSim package
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

The obs_lsst package, :ref:`included in release 17 <release-v17-0-obs-lsst>`, obviates the need for the obs_lsstSim package, which has now been removed.
:jirab:`DM-20573`

.. _release-v20-0-0-remove-afwGeom:

Removal of `lsst.afw.geom` aliases for code relocated to `lsst.geom`
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

As announced in v16.0 (:ref:`release-v16-0-new-geom`) some primitives have been moved from `afw.geom` to `geom`.
Compatibility aliases making them accessible under their old names have now been removed, and all code must use the `geom` package directly.
:jirab:`DM-20565`

.. _release-v20-0-0-remove-PixelScaleBoundedField:

Removal of `lsst.afw.math.PixelScaleBoundedField`
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

`~lsst.afw.math.PixelAreaBoundedField`, :ref:`added in release 19.0.0 <release-v19-0-0-PixelAreaBoundedField>`, replaces `~lsst.afw.math.PixelScaleBoundedField`, which has now been removed.
:jirab:`DM-22192`

.. _release-v20-0-0-remove-addDistortionModel:

Removal of `lsst.ip.isr.addDistortionModel` and related configuration classes
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

Camera geometry-based distortions are now automatically incorporated into the WCS automatically when reading raw data, rendering this functionality obsolete.
It has therefore been removed.
:jirab:`DM-23369`

.. _release-v20-0-0-remove-_extractAmpId:

Removal of `lsst.obs.base.CameraMapper._extractAmpId`
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

This method was no longer used and has therefore been removed.
:jirab:`DM-23371`

.. _release-v20-0-0-remove-pex_policy:

Removal of the pex_policy package
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

The obsolete pex_policy package has been removed.
Calls to `lsst.pex.policy.makePolicy` should be modernized to become calls to `lsst.pex.config.makePropertySet`.
See also :jira:`RFC-626`.
:jirab:`DM-23374`

.. _release-v20-0-0-remove-astrometry_net_data:

Removal of astrometry_net_data
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

The obsolete astrometry_net_data has been removed.
:jirab:`DM-22233`

.. _release-v20-0-0-remove-getHasRawInfo:

Removal of `lsst.afw.cameraGeom.Amplifier.getHasRawInfo`
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

`~lsst.afw.cameraGeom.Amplifier.getHasRawInfo` is redundant, since amplifier objects *always* have raw information.
It has now been removed.
:jirab:`DM-21711`

.. _release-v20-0-0-remove-pixelScale:

Removal of `lsst.fgcmcal.FgcmFitCycleConfig.pixelScale`
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

This configuration field is no longer used, and has therefore been removed.
:jirab:`DM-23380`

.. _release-v20-0-0-remove-obs_sdss:

Removal of obs_sdss
^^^^^^^^^^^^^^^^^^^

The obsolete obs_sdss package has been removed.
See also :jira:`RFC-645`.
:jirab:`DM-22578`.


.. _release-v20-0-0-pending-deprecations:

Pending Deprecations
--------------------

These packages/functions will be deprecated in the next major release.

.. _release-v20-0-0-deprecations:

Deprecations
------------

These packages/functions are deprecated and will not be available in the next major release.

- :ref:`release-v20-0-0-deprecate-makeDistortedTanWcs`
- :ref:`release-v20-0-0-deprecate-afw`
- :ref:`release-v20-0-0-deprecate-synpipe`

.. _release-v20-0-0-deprecate-makeDistortedTanWcs:

Removal of `lsst.afw.geom.wcsUtils.makeDistortedTanWcs`
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

Camera geometry-based distortions are now automatically incorporated into the WCS automatically when reading raw data, rendering `~lsst.afw.geom.wcsUtils.makeDistortedTanWcs` obsolete.
The function ``makeDistortedTanWcs`` will be removed before the release of version 21.0.0
:jirab:`DM-20937`

.. _release-v20-0-0-deprecate-afw:

Modernization of the C++ API in `lsst.afw`
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

A number of long-discouraged C++ APIs in `lsst.afw` have been marked as deprecated and will be removed before the release of version 21.0.0.
:jirab:`DM-17566, DM-23076`

.. _release-v20-0-0-deprecate-synpipe:

Removal of the Synpipe package
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

The Synpipe package for inserting fake galaxies and stars during pipeline execution has been rendered obsolete by the tasks for fake source insertion which were :ref:`added to pipe_tasks in release 18.0.0 <release-v18-0-0-fakes>`.
It will therefore be removed before the release of version 21.0.0.
:jirab:`DM-23343`

