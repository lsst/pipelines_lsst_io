.. _release-v19-0-0:

Fall 2019 Release (v19_0_0)
===========================

+-------------------------------------------+------------+
| Source                                    | Identifier |
+===========================================+============+
| Git tag                                   | 19.0.0     |
+-------------------------------------------+------------+
| :doc:`EUPS distrib </install/newinstall>` | v19\_0\_0  |
+-------------------------------------------+------------+

- :ref:`release-v19-0-0-functionality`
- :ref:`release-v19-0-0-interface`
- :ref:`release-v19-0-0-pending-deprecations`
- :ref:`release-v19-0-0-deprecations`

*See also:*


- :doc:`Installation instructions <../install/index>`
- :doc:`Known issues </known-issues>`
- `Characterization Metric Report (DMTR-191) <https://ls.st/DMTR-191>`_
- `Doxygen Documentation <http://doxygen.lsst.codes/stack/doxygen/xlink_master_2019_11_16_09.13.30/>`__

These release notes highlight significant changes to the Science Pipelines codebase which are likely to be of wide interest.
For a complete list of changes made, see :ref:`release-v19-0-0-tickets`.

.. _release-v19-0-0-functionality:

Major Functionality Changes
---------------------------


.. _release-v19-0-0-interface:

Significant Interface Changes
-----------------------------


.. _release-v19-0-0-pending-deprecations:

Pending Deprecations
--------------------

These packages/functions will be deprecated in the next major release.

- :ref:`release-v19-0-0-deprecate-gen2`
- :ref:`release-v19-0-0-deprecate-makeDistortedTanWcs`

.. _release-v19-0-0-deprecate-gen2:

Upcoming removal of “Generation 2” Middleware
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

The “Generation 3” middleware :ref:`included in the previous release <release-v17-0-gen3>` is ultimately intended to supplant the current (“Generation 2”) Data Butler and command-line task functionality.
We expect to deliver a final major release supporting the Generation 2 functionality early in calendar year 2020.
Following that release, the “Generation 2” middleware will be removed from the codebase.
This will include:

- The daf_persistence package, to be replaced by daf_butler;
- `lsst.pipe.base.CmdLineTask`, to be replaced by `lsst.pipe.base.PipelineTask`;
- The pipe_drivers and ctrl_pool packages, for which replacements are still in development.

.. _release-v19-0-0-deprecate-makeDistortedTanWcs:

Upcoming removal of makeDistortedTanWcs from `afw.geom.wcsUtils`
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

The function ``makeDistortedTanWcs`` will be removed after release 20.
A SkyWcs derived from the camera geometry is now set when reading raw data.

.. _release-v19-0-0-deprecations:

Deprecations
------------

These packages/functions are deprecated and will not be available in the next major release.

- :ref:`release-v19-0-0-deprecate-lsstsim`
- :ref:`release-v19-0-0-deprecate-afwGeom`
- :ref:`release-v19-0-0-deprecate-PixelScaleBoundedField`
- :ref:`release-v19-0-0-deprecate-addDistortionModel`
- :ref:`release-v19-0-0-deprecate-_extractAmpId`
- :ref:`release-v19-0-0-deprecate-pex_policy`
- :ref:`release-v19-0-0-deprecate-astrometry_net_data`
- :ref:`release-v19-0-0-deprecate-getHasRawInfo`
- :ref:`release-v19-0-0-deprecate-pixelScale`

.. _release-v19-0-0-deprecate-lsstSim:

Removal of the obs_lsstSim package
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

The obs_lsst package, :ref:`included in the release 17 <release-v17-0-obs-lsst>`, obviates the need for the obs_lsstSim package.
This package will be removed before the release of version 20.0.0.

.. _release-v19-0-0-deprecate-afwGeom:

Removal of `lsst.afw.geom` classes that have been relocated to `lsst.geom`
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

As announced in v16.0 (:ref:`release-v16-0-new-geom`) some primitives have been moved from `afw.geom` to `geom`.
We currently provide aliases for compatibility purposes, but new all code should use the `geom` package directly.
The aliases will be removed before the release of version 20.0.0.

.. _release-v19-0-0-deprecate-PixelScaleBoundedField:

Removal of `lsst.afw.math.PixelScaleBoundedField`
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

`~lsst.afw.math.PixelAreaBoundedField`, :ref:`added in this release <release-v19-0-0-pixel-area-bounded-field>`, is intended to replace `~lsst.afw.math.PixelScaleBoundedField`.
The latter will be removed before the release of version 20.0.0.

.. _release-v19-0-0-deprecate-addDistortionModel:

Removal of `lsst.ip.isr.addDistortionModel` and related configuration classes
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

Camera geometry-based distortions are now automatically incorporated into the WCS automatically when reading raw data, rendering this functionality obsolete.
It will be removed before the release of version 20.0.0.

.. _release-v19-0-0-deprecate-_extractAmpId:

Removal of `lsst.obs.base.CameraMapper._extractAmpId`
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

This method is no longer used and will be removed before the release of version 20.0.0.

.. _release-v19-0-0-deprecate-pex_policy:

Removal of `pex_policy`
^^^^^^^^^^^^^^^^^^^^^^^

The pex_policy package is obsolete, and will be removed in version 20.0.0.
Calls to `lsst.pex.policy.makePolicy` should be modernized to become calls to `lsst.pex.config.makePropertySet`.
See also :jira:`RFC-626`.

.. _release-v19-0-0-deprecate-astrometry_net_data:

Removal of astrometry_net_data
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

The astrometry_net_data package is obsolete, and will be removed in version 20.0.0.

.. _release-v19-0-0-deprecate-getHasRawInfo:

Removal of `lsst.afw.cameraGeom.Amplifier.getHasRawInfo`
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

`~lsst.afw.cameraGeom.Amplifier.getHasRawInfo` is redundant, since amplifier objects *always* have raw information.
It will be removed before the release of version 20.0.0

.. _release-v19-0-0-deprecate-pixelScale:

Removal of `lsst.fgcmcal.FgcmFitCycleConfg.pixelScale`
^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^

This configuration field is no longer used, and therefore will be removed before the release of version 20.0.0.
